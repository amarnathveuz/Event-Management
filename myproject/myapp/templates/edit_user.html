
{% extends 'base.html' %}

{% load static %}
{% block content %}
<style>
    .form-box {
  max-width: 500px;
  margin: auto;
  padding: 50px;
  background: #ffffff;
  border: 10px solid #f2f2f2;
}

h1, p {
  text-align: center;
}

input, textarea {
  width: 100%;
  
}
.form-control{
    display: block;
    width: 100%;
    padding: 0.375rem 0.75rem;
    font-size: .8125rem;
    font-weight: 400;
    line-height: 1.5;
    color: #303e67;
    background-color: #fff;
    background-clip: padding-box;
    border: 1px solid #e3ebf6;
    appearance: none;
    border-radius: 0.25rem;
    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}
.form-group{
    margin: 8px 0px;
}
</style>
<div class="form-box">
    <h1 style="    font-size: 24px;
    padding: 7px 17px;">User Update</h1>
   
    <form action="" method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <input type="hidden" name="id" value="{{data.id}}">
      <div class="form-group">
        <label for="name">Company Name</label>
        <input class="form-control" id="name" type="text" value="{{data.company_name}}" required name="company_name">
      </div>
      <div class="form-group">
        <label for="name"> Name</label>
        <input class="form-control" id="name" type="text" value="{{data.name}}" required name="name">
      </div>
      <div class="form-group">
        <label for="name"> Username</label>
        <input class="form-control" readonly id="name" type="text" value="{{data.username}}" required name="username">
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input class="form-control" id="email" type="email" value="{{data.email}}" required name="email">
      </div>
      <div class="form-group">
        <label for="name">Password Change</label>
      <select onchange="password_manual_action()" class="form-control" id="selectBox" name="password_option">
        <option value="No">No</option>
        <option value="Yes" >Yes</option>
      
      </select>
      </div>
      <div class="form-group" id="password_field_div" style="display:none;">
        <label for="email">Password</label>
        <input class="form-control" id="email" type="password"  name="password">
      </div>
      <div class="form-group">
        <label for="email">Phone</label>
        <input class="form-control" id="email" type="number" value="{{data.phone}}" required name="phone">
      </div>
      
      <div class="form-group">
        <label for="name">Pic Change Con</label>
      <select onchange="change_profile_pic1()" class="form-control" id="selectBox1" name="change_profile_pic">
        <option value="No">No</option>
        <option value="Yes" >Yes</option>
      
      </select>
      </div>

      <div class="form-group" style="display:none;" id="pic_status">
        <label for="email">Pic</label>
        <input class="form-control" id="email" type="file" name="photo">
      </div>

     
      <br>
      <input class="btn btn-primary" type="submit" value="Update" />
      </div>
    </form>
  </div>


  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
  <script>

    function password_manual_action(){
      var selectBox = document.getElementById("selectBox");
    var selectedValue = selectBox.options[selectBox.selectedIndex].value;
    if (selectedValue == "Yes"){
        $("#password_field_div").show()
    }
    else{
      $("#password_field_div").hide()
    }
    }


    function change_profile_pic1(){
        var selectBox = document.getElementById("selectBox1");
    var selectedValue = selectBox.options[selectBox.selectedIndex].value;
    // alert(selectedValue)
    if (selectedValue == "Yes"){
        $("#pic_status").show()
    }

    else{
        $("#pic_status").hide()
    }
    }
  </script>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>



{% if messages %}
<script>
 {% for message in messages %}
    Swal.fire(
        '',
        '{{ message }}',
        '{{message.tags}}'
    )
 {% endfor %}
</script>
{% endif %}

{% endblock %}